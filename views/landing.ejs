<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/d6c8962f65.js"
      crossorigin="anonymous"
    ></script>

    <title>Shopie</title>
  </head>

  <body class="body-wrapper">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarTogglerDemo02"
        aria-controls="navbarTogglerDemo02"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
        </ul>
        <div>
          <button type="button" class="btn btn-primary">
            <a href="/login">Sign In</a>
          </button>
          <button type="button" class="btn btn-light">
            <a href="/register">Sign Up</a>
          </button>
        </div>
      </div>
    </nav>
    <!-- Hero Section-->
    <section class="text-center">
      <!-- Container Start -->
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <!-- Header Contetnt -->
            <div class="content-block">
              <h1>Buy & Sell Near You</h1>
              <p>
                Join the millions who buy and sell from each other <br />
                everyday in local communities around the world
              </p>
            </div>
            <!-- Advanced Search -->
            <div class="advance-search">
              <div class="container">
                <div class="row justify-content-center">
                  <div class="col-lg-8 col-md-8 align-content-center">
                    <form
                      class="search"
                      action=""
                      id="search-form"
                      method="GET"
                    >
                      <div class="form-row">
                        <div class="form-group col-md-10">
                          <input
                            type="text"
                            class="form-control my-2 my-lg-1"
                            id="searchtext"
                            placeholder="What are you looking for"
                            onchange="searchItems(this.value)"
                          />
                        </div>

                        <div class="form-group col-md-2 align-self-center">
                          <button type="submit" class="btn btn-primary">
                            Search Now
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Container End -->
    </section>
    <!-- Popular Items Section -->
    <section class="hero-area bg-1 text-center overly">
      <!-- Container Start -->
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <!-- Header Contetnt -->
            <div class="content-block">
              <div class="my-5">
                <h1>Top Selections</h1>
                <p>See What's Popular</p>
              </div>
              <!-- Content Row -->
              <div class="row flex-wrap justify-content-start">
                <% for (var i = 0; i < bestItems.length; i++) { %>
                <div class="col-md-3 my-2">
                  <div class="card card-01 pt-4">
                    <img
                      class="card-img-top"
                      src="<%= bestItems[i].imageUrls[0] %>"
                      alt="Card image cap"
                      style="
                        max-height: 200px;
                        width: 100%;
                        object-fit: contain;
                      "
                    />
                    <div class="card-body">
                      <h4
                        class="card-title"
                        style="
                          display: block;
                          text-overflow: ellipsis;
                          word-wrap: break-word;
                          overflow: hidden;
                          max-height: 3.6em;
                          line-height: 1.2em;
                        "
                      >
                        <strong><%= bestItems[i].name %></strong>
                      </h4>
                      <div
                        class="d-flex w-100 justify-content-center align-items-center"
                      >
                        <span class="h5" style="margin: auto 0">
                          <%- Math.round((bestItems[i].avgRating +
                          Number.EPSILON) * 10) / 10 %>
                        </span>
                        <i class="fas fa-star star" style="color: #ffd700"></i>
                      </div>
                      <p
                        class="card-text py-2"
                        style="
                          display: block; /* or inline-block */
                          text-overflow: ellipsis;
                          word-wrap: break-word;
                          overflow: hidden;
                          max-height: 8.8em;
                          line-height: 1.4em;
                        "
                      >
                        <%= bestItems[i].shortDesc %>
                      </p>
                      <a
                        href="/item/<%= bestItems[i].id %>"
                        class="btn btn-primary w-100"
                        >See More</a
                      >
                    </div>
                  </div>
                </div>

                <% } %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Container End -->
    </section>
    <!-- Recommended Section -->
    <section class="hero-area bg-1 text-center overly">
      <!-- Container Start -->
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <!-- Header Contetnt -->
            <div class="content-block">
              <div class="my-5">
                <h1>Recommendations</h1>
                <p>Based On Your Interests</p>
              </div>
              <!-- Content Row -->
              <div class="row">
                <div class="d-flex flex-wrap justify-content-start">
                  <% for (var i = 0; i < interestItems.length; i++) { %>
                  <div class="col-md-3 my-2">
                    <div class="card card-01 pt-4">
                      <img
                        class="card-img-top"
                        src="<%= interestItems[i].imageUrls[0] %>"
                        alt="Card image cap"
                        style="
                          max-height: 200px;
                          width: 100%;
                          object-fit: contain;
                        "
                      />
                      <div class="card-body">
                        <h4
                          class="card-title"
                          style="
                            display: block;
                            text-overflow: ellipsis;
                            word-wrap: break-word;
                            overflow: hidden;
                            max-height: 3.6em;
                            line-height: 1.2em;
                          "
                        >
                          <strong><%= interestItems[i].name %></strong>
                        </h4>
                        <div
                          class="d-flex w-100 justify-content-center align-items-center"
                        >
                          <span class="h5" style="margin: auto 0">
                            <%- Math.round((interestItems[i].avgRating +
                            Number.EPSILON) * 10) / 10 %>
                          </span>
                          <i
                            class="fas fa-star star"
                            style="color: #ffd700"
                          ></i>
                        </div>
                        <p
                          class="card-text py-2"
                          style="
                            display: block; /* or inline-block */
                            text-overflow: ellipsis;
                            word-wrap: break-word;
                            overflow: hidden;
                            max-height: 8.8em;
                            line-height: 1.4em;
                          "
                        >
                          <%= interestItems[i].shortDesc %>
                        </p>
                        <a
                          href="/item/<%= interestItems[i].id %>"
                          class="btn btn-primary w-100"
                          >See More</a
                        >
                      </div>
                    </div>
                  </div>
                  <% } %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Container End -->
    </section>
    <!-- Random Items Section -->
    <section class="hero-area bg-1 text-center overly">
      <!-- Container Start -->
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <!-- Header Contetnt -->
            <div class="content-block">
              <div class="my-5">
                <h1>Feeling Lucky</h1>
                <p>Surprise Yourself</p>
              </div>
              <!-- Content Row -->
              <div class="row">
                <div class="d-flex flex-wrap justify-content-start">
                  <% for (var i = 0; i < randomItems.length; i++) { %>
                  <div class="col-md-3 my-2">
                    <div class="card card-01 pt-4">
                      <img
                        class="card-img-top"
                        src="<%= randomItems[i].imageUrls[0] %>"
                        alt="Card image cap"
                        style="
                          max-height: 200px;
                          width: 100%;
                          object-fit: contain;
                        "
                      />
                      <div class="card-body">
                        <h4
                          class="card-title"
                          style="
                            display: block;
                            text-overflow: ellipsis;
                            word-wrap: break-word;
                            overflow: hidden;
                            max-height: 3.6em;
                            line-height: 1.2em;
                          "
                        >
                          <strong><%= randomItems[i].name %></strong>
                        </h4>
                        <div
                          class="d-flex w-100 justify-content-center align-items-center"
                        >
                          <span class="h5" style="margin: auto 0">
                            <%- Math.round((randomItems[i].avgRating +
                            Number.EPSILON) * 10) / 10 %>
                          </span>
                          <i
                            class="fas fa-star star"
                            style="color: #ffd700"
                          ></i>
                        </div>
                        <p
                          class="card-text py-2"
                          style="
                            display: block; /* or inline-block */
                            text-overflow: ellipsis;
                            word-wrap: break-word;
                            overflow: hidden;
                            max-height: 8.8em;
                            line-height: 1.4em;
                          "
                        >
                          <%= randomItems[i].shortDesc %>
                        </p>
                        <a
                          href="/item/<%= randomItems[i].id %>"
                          class="btn btn-primary w-100"
                          >See More</a
                        >
                      </div>
                    </div>
                  </div>
                  <% } %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Container End -->
    </section>

    <script>
      searchItems = function (text) {
        console.log(text);
        document.getElementById("search-form").action = "/search/" + text;
      };
    </script>
  </body>
</html>
